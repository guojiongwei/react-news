webpackJsonp([7,25],{Bxmx:function(e,t,n){var r=n("jG/W");"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n("MTIv")(r,o);r.locals&&(e.exports=r.locals)},eGhM:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=p(n("Zx67")),i=p(n("Zrlr")),a=p(n("wxAW")),A=p(n("zwoO")),d=p(n("Pf15")),l=p(n("GiK3")),s=p(n("CyZm")),m=p(n("+vBd"));function p(e){return e&&e.__esModule?e:{default:e}}n("Bxmx");var c=(0,p(n("Gq5I")).default)(r=function(e){function t(){var e,n,r,a;(0,i.default)(this,t);for(var d=arguments.length,l=Array(d),s=0;s<d;s++)l[s]=arguments[s];return n=r=(0,A.default)(this,(e=t.__proto__||(0,o.default)(t)).call.apply(e,[this].concat(l))),r.state={hasMore:!0,pageindex:1},a=n,(0,A.default)(r,a)}return(0,d.default)(t,e),(0,a.default)(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.getVideoList;e.state.video.hasMore&&t({pageindex:this.state.pageindex})}},{key:"handleRefresh",value:function(){return this.setState({pageindex:1}),this.props.refreshVideoList({pageindex:1})}},{key:"handleLoad",value:function(){var e=this.state.pageindex;return e++,this.setState({pageindex:e}),this.props.getVideoList({pageindex:e})}},{key:"dragVideo",value:function(e){var t=document.querySelectorAll("video")[e],n=document.querySelectorAll("canvas")[e].getContext("2d");t.play();document.querySelectorAll(".video")[e].clientWidth,document.querySelectorAll(".video")[e].clientHeight;t.addEventListener("play",function(){setInterval(function(){n.drawImage(t,0,0,320,176)},1e3/30)})}},{key:"play",value:function(e,t){t.playBol=!0,this.dragVideo(e),this.props.renderVideoList()}},{key:"pause",value:function(e,t){t.playBol&&(document.querySelectorAll("video")[e].pause(),this.attrReverse(t,"playBol"))}},{key:"attrReverse",value:function(e,t){e[t]=!e[t],this.props.renderVideoList()}},{key:"render",value:function(){var e=this,t=this.props.state.video,n=t.videoList,r=t.hasMore;return l.default.createElement(s.default,{handleLoad:this.handleLoad.bind(this),handleRefresh:this.handleRefresh.bind(this),hasMore:r},l.default.createElement("article",{className:"video-wrapper"},l.default.createElement("div",{className:"video-container"},n.map(function(t,n){return l.default.createElement("section",{className:"item border-half-bottom",key:n},l.default.createElement("div",{className:"video"},l.default.createElement("video",{src:t.video}),l.default.createElement("div",{className:"canvas-video bg-cover",style:{backgroundImage:"url("+t.images+")"}},l.default.createElement("canvas",{onClick:function(r){e.pause(n,t)}})),t.playBol?"":l.default.createElement("div",{className:"title"},l.default.createElement("h4",null,t.title),l.default.createElement("small",null,t.video_num,"次播放")),t.playBol?"":l.default.createElement("div",{className:"play",onClick:function(r){e.play(n,t)}},l.default.createElement(m.default,{iconName:"play"})),t.playBol?"":l.default.createElement("time",null,t.time),t.playBol?"":l.default.createElement("div",{className:"avatar bg-cover-all",style:{backgroundImage:"url("+t.image+")"}})),l.default.createElement("div",{className:"intro df-sb"},l.default.createElement("div",{className:"source"},t.source),l.default.createElement("div",{className:"box df-c"},l.default.createElement("div",{onClick:function(n){e.attrReverse(t,"attention")}},t.attention?l.default.createElement("div",null,"已关注"):l.default.createElement("div",null,l.default.createElement(m.default,{iconName:"attention"}),l.default.createElement("span",null,"关注"))),l.default.createElement("div",null,l.default.createElement(m.default,{iconName:"custom-comment"}),l.default.createElement("span",null,t.comment_num||"评论")),l.default.createElement("div",null,l.default.createElement(m.default,{iconName:"More"})))))}))))}}]),t}(l.default.Component))||r;t.default=c},"jG/W":function(e,t,n){(e.exports=n("FZ+f")(!0)).push([e.i,".video-wrapper{background-color:#f4f4f4}.video-wrapper .item{padding:.1rem 0}.video-wrapper .item .video{width:100%;height:2rem;background-color:#000;position:relative}.video-wrapper .item .video video{width:100%;display:none;height:100%}.video-wrapper .item .video .canvas-video{width:100%;height:100%;position:absolute;left:0;top:0}.video-wrapper .item .video .canvas-video canvas{width:100%;height:100%}.video-wrapper .item .video .play{position:absolute;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);background-color:rgba(0,0,0,.3);border-radius:50%;z-index:3}.video-wrapper .item .video .play svg{color:#fff;font-size:.4rem}.video-wrapper .item .video .title{position:absolute;left:0;top:0;line-height:.2rem;width:100%;color:#f4f4f4;padding:.04rem .1rem;background:-webkit-linear-gradient(bottom,rgba(0,0,0,.45),transparent);background:linear-gradient(0deg,rgba(0,0,0,.45) 0,transparent);background:-webkit-linear-gradient(0deg,rgba(0,0,0,.45) 0,transparent)}.video-wrapper .item .video .title small{font-size:.12rem}.video-wrapper .item .video time{position:absolute;right:.1rem;bottom:.1rem;font-size:.1rem;padding:.04rem .08rem;border-radius:.06rem;background-color:rgba(0,0,0,.5);color:#f4f4f4}.video-wrapper .item .video .avatar{width:.4rem;height:.4rem;border-radius:50%;position:absolute;bottom:-.1rem;left:.2rem}.video-wrapper .item .intro{margin-top:.1rem;padding:0 .1rem}.video-wrapper .item .intro .source{font-size:.14rem}.video-wrapper .item .intro .box>*{margin-left:.14rem;font-size:.12rem;color:#666}","",{version:3,sources:["C:/Users/Administrator/Desktop/无忧/react/react-toutiao/src/views/Video/C:/Users/Administrator/Desktop/无忧/react/react-toutiao/src/views/Video/C:/Users/Administrator/Desktop/无忧/react/react-toutiao/src/views/Video/index.less","C:/Users/Administrator/Desktop/无忧/react/react-toutiao/src/views/Video/C:/Users/Administrator/Desktop/无忧/react/react-toutiao/src/views/Video/index.less"],names:[],mappings:"AAAA,eACI,wBAAA,CCCH,ADFD,qBAGQ,eAAA,CCEP,ADLD,4BAKY,WAAA,AACA,YAAA,AACA,sBAAA,AACA,iBAAA,CCGX,ADXD,kCAUgB,WAAA,AACA,aAAA,AACA,WAAA,CCIf,ADhBD,0CAegB,WAAA,AACA,YAAA,AACA,kBAAA,AACA,OAAA,AAAQ,KAAA,CCKvB,ADvBD,iDAoBoB,WAAA,AACA,WAAA,CCMnB,AD3BD,kCA0BgB,kBAAA,AACA,SAAA,AAAU,QAAA,AACV,uCAAA,mCAAA,+BAAA,AACA,gCAAA,AACA,kBAAA,AACA,SAAA,CCKf,ADpCD,sCAiCoB,WAAA,AACA,eAAA,CCMnB,ADxCD,mCAsCgB,kBAAA,AACA,OAAA,AAAQ,MAAA,AACR,kBAAA,AACA,WAAA,AACA,cAAA,AACA,qBAAA,AACA,uEAAA,+DAAA,AACA,sEAAA,CCMf,ADnDD,yCA+CoB,gBAAA,CCOnB,ADtDD,iCAmDgB,kBAAA,AACA,YAAA,AAAe,aAAA,AACf,gBAAA,AACA,sBAAA,AACA,qBAAA,AACA,gCAAA,AACA,aAAA,CCOf,ADhED,oCA4DgB,YAAA,AACA,aAAA,AACA,kBAAA,AACA,kBAAA,AACA,cAAA,AACA,UAAA,CCOf,ADxED,4BAsEY,iBAAA,AACA,eAAA,CCKX,AD5ED,oCAyEgB,gBAAA,CCMf,AD/ED,mCA6EoB,mBAAA,AACA,iBAAA,AACA,UAAA,CCKnB",file:"index.less",sourcesContent:[".video-wrapper {\n    background-color: #f4f4f4;\n    .item {\n        padding: 0.1rem 0;\n        .video {\n            width: 100%;\n            height: 2rem;\n            background-color: #000;\n            position: relative;\n            video {\n                width: 100%;\n                display: none;\n                height: 100%;\n            }\n            .canvas-video {\n                width: 100%;\n                height: 100%;\n                position: absolute;\n                left: 0;top: 0;\n                canvas {\n                    width: 100%;\n                    height: 100%;\n                }\n            }\n            \n            .play {\n                position: absolute;\n                left: 50%;top: 50%;\n                transform: translate(-50%, -50%);\n                background-color: rgba(0, 0, 0, .3);\n                border-radius: 50%;\n                z-index: 3;\n                svg {\n                    color: #fff;\n                    font-size: 0.4rem;\n                }\n            }\n            .title {\n                position: absolute;\n                left: 0;top: 0;\n                line-height: 0.2rem; \n                width: 100%;\n                color: #f4f4f4;\n                padding: 0.04rem 0.1rem;\n                background: linear-gradient(to top , rgba(0, 0, 0, .45) 0%, rgba(0, 0, 0, 0) 100%);\n                background: -webkit-linear-gradient(to top , rgba(0, 0, 0, .45) 0%, rgba(0, 0, 0, 0) 100%);\n                small {\n                    font-size: 0.12rem;\n                }\n            }\n            time {\n                position: absolute;\n                right: 0.1rem; bottom: 0.1rem;\n                font-size: 0.1rem;\n                padding: 0.04rem 0.08rem;\n                border-radius: 0.06rem;\n                background-color: rgba(0, 0, 0, .5);\n                color: #f4f4f4;\n            }\n            .avatar {\n                width: 0.4rem;\n                height: 0.4rem;\n                border-radius: 50%;\n                position: absolute;\n                bottom: -0.1rem;\n                left: 0.2rem;\n            }\n        }\n\n        .intro {\n            margin-top: 0.1rem;\n            padding: 0 0.1rem;\n            .source {\n                font-size: 0.14rem;\n            }\n            .box {\n                >*{\n                    margin-left: 0.14rem;\n                    font-size: 0.12rem;\n                    color: @font-gray;\n                }\n            }\n        }\n    }\n}\n",".video-wrapper {\n  background-color: #f4f4f4;\n}\n.video-wrapper .item {\n  padding: 0.1rem 0;\n}\n.video-wrapper .item .video {\n  width: 100%;\n  height: 2rem;\n  background-color: #000;\n  position: relative;\n}\n.video-wrapper .item .video video {\n  width: 100%;\n  display: none;\n  height: 100%;\n}\n.video-wrapper .item .video .canvas-video {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n}\n.video-wrapper .item .video .canvas-video canvas {\n  width: 100%;\n  height: 100%;\n}\n.video-wrapper .item .video .play {\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  background-color: rgba(0, 0, 0, 0.3);\n  border-radius: 50%;\n  z-index: 3;\n}\n.video-wrapper .item .video .play svg {\n  color: #fff;\n  font-size: 0.4rem;\n}\n.video-wrapper .item .video .title {\n  position: absolute;\n  left: 0;\n  top: 0;\n  line-height: 0.2rem;\n  width: 100%;\n  color: #f4f4f4;\n  padding: 0.04rem 0.1rem;\n  background: linear-gradient(to top, rgba(0, 0, 0, 0.45) 0%, rgba(0, 0, 0, 0) 100%);\n  background: -webkit-linear-gradient(to top, rgba(0, 0, 0, 0.45) 0%, rgba(0, 0, 0, 0) 100%);\n}\n.video-wrapper .item .video .title small {\n  font-size: 0.12rem;\n}\n.video-wrapper .item .video time {\n  position: absolute;\n  right: 0.1rem;\n  bottom: 0.1rem;\n  font-size: 0.1rem;\n  padding: 0.04rem 0.08rem;\n  border-radius: 0.06rem;\n  background-color: rgba(0, 0, 0, 0.5);\n  color: #f4f4f4;\n}\n.video-wrapper .item .video .avatar {\n  width: 0.4rem;\n  height: 0.4rem;\n  border-radius: 50%;\n  position: absolute;\n  bottom: -0.1rem;\n  left: 0.2rem;\n}\n.video-wrapper .item .intro {\n  margin-top: 0.1rem;\n  padding: 0 0.1rem;\n}\n.video-wrapper .item .intro .source {\n  font-size: 0.14rem;\n}\n.video-wrapper .item .intro .box > * {\n  margin-left: 0.14rem;\n  font-size: 0.12rem;\n  color: #666;\n}\n"],sourceRoot:""}])}});